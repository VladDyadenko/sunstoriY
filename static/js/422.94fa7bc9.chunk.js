"use strict";(self.webpackChunksunstoriy=self.webpackChunksunstoriy||[]).push([[422],{3422:function(n,e,t){t.r(e),t.d(e,{default:function(){return an}});var a,i,r,o,l,s,c,d,p,u,x,m,h,f,g,b,v,Z=t(4165),w=t(5861),y=t(9439),j=t(7689),P=t(1686),k=t(9434),S=t(2791),z=t(5705),R=t(8442),_=t(6727),C={name:"",surname:"",teacherImage:"",phone:"",email:"",color:"",about:"",specialization:[]},I=_.Ry().shape({name:_.Z_().required("\u0406\u043c'\u044f \u043e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435!").min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),surname:_.Z_().min(2,"\u0417\u0430\u043a\u043e\u0440\u043e\u0442\u043a\u0435!").max(40,"\u0417\u0430\u0434\u043e\u0432\u0433\u0435!"),price:_.Rx()}),F=[{value:"\u0421\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0441\u0442 \u0437 \u0441\u0435\u043d\u0441\u043e\u0440\u043d\u043e\u0457 \u0456\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u0457",label:"\u0421\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0441\u0442 \u0437 \u0441\u0435\u043d\u0441\u043e\u0440\u043d\u043e\u0457 \u0456\u043d\u0442\u0435\u0433\u0440\u0430\u0446\u0456\u0457"},{value:"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433",label:"\u041f\u0441\u0438\u0445\u043e\u043b\u043e\u0433"},{value:"\u041b\u043e\u0433\u043e\u043f\u0435\u0434",label:"\u041b\u043e\u0433\u043e\u043f\u0435\u0434"},{value:"\u041a\u043e\u0440\u0435\u043a\u0446\u0456\u0439\u043d\u0438\u0439 \u043f\u0435\u0434\u0430\u0433\u043e\u0433",label:"\u041a\u043e\u0440\u0435\u043a\u0446\u0456\u0439\u043d\u0438\u0439 \u043f\u0435\u0434\u0430\u0433\u043e\u0433"},{value:"\u041f\u0435\u0434\u0430\u0433\u043e\u0433 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0438\u0445 \u043a\u043b\u0430\u0441\u0456\u0432",label:"\u041f\u0435\u0434\u0430\u0433\u043e\u0433 \u043f\u043e\u0447\u0430\u0442\u043a\u043e\u0432\u0438\u0445 \u043a\u043b\u0430\u0441\u0456\u0432"},{value:"\u0412\u0438\u0445\u043e\u0432\u0430\u0442\u0435\u043b\u044c",label:"\u0412\u0438\u0445\u043e\u0432\u0430\u0442\u0435\u043b\u044c"},{value:"\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e \u0448\u043a\u043e\u043b\u0438",label:"\u041f\u0456\u0434\u0433\u043e\u0442\u043e\u0432\u043a\u0430 \u0434\u043e \u0448\u043a\u043e\u043b\u0438"}],N=t(168),V=t(9256),E=(0,V.ZP)(z.l0)(a||(a=(0,N.Z)(["\n  display: flex;\n  flex-direction: column;\n  gap: 10px;\n  padding: 25px 15px 40px 15px;\n  width: 375px;\n\n  @media (min-width: 768px) {\n    width: 768px;\n  }\n  @media (min-width: 1280px) {\n    width: 1280px;\n  }\n  @media (min-width: 1440px) {\n    width: 1440px;\n  }\n"]))),A=V.ZP.p(i||(i=(0,N.Z)(["\n  width: 100%;\n  font-family: 'RobotoSlab';\n\n  font-weight: 500;\n  font-size: 24px;\n  color: var(--main-green);\n  margin: 0;\n  text-align: center;\n"]))),U=V.ZP.div(r||(r=(0,N.Z)(["\n  display: flex;\n  width: 100%;\n  gap: 10px;\n\n  @media (min-width: 768px) {\n    gap: 30px;\n  }\n"]))),B=V.ZP.div(o||(o=(0,N.Z)(["\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: start;\n  justify-content: space-between;\n  width: 100%;\n  gap: 20px;\n"]))),J=(0,V.ZP)(z.gN)(l||(l=(0,N.Z)(["\n  width: 100%;\n  height: 40px;\n  max-width: 400px;\n\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),L=V.ZP.p(s||(s=(0,N.Z)(["\n  color: red;\n"]))),T=V.ZP.label(c||(c=(0,N.Z)(["\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  color: var(--main-green);\n  margin-bottom: 5px;\n  margin-top: 15px;\n  text-align: center;\n\n  @media (min-width: 768px) {\n    text-align: start;\n  }\n"]))),q=V.ZP.label(d||(d=(0,N.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  min-width: 130px;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  color: var(--main-green);\n  text-align: center;\n\n  @media (min-width: 768px) {\n    text-align: start;\n  }\n"]))),D=V.ZP.div(p||(p=(0,N.Z)(["\n  width: 100%;\n  max-width: 600px;\n  display: flex;\n  gap: 10px;\n  text-align: center;\n  justify-content: start;\n"]))),H=V.ZP.label(u||(u=(0,N.Z)(["\n  display: flex;\n  align-items: center;\n  justify-content: start;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 18px;\n  color: var(--main-green);\n  text-align: center;\n\n  @media (min-width: 768px) {\n    text-align: start;\n  }\n"]))),O=V.ZP.div(x||(x=(0,N.Z)(["\n  width: 100%;\n  display: flex;\n  flex-direction: column;\n  text-align: center;\n  justify-content: start;\n  @media (min-width: 768px) {\n    flex-direction: row;\n    gap: 10px;\n  }\n"]))),W=(0,V.ZP)(z.gN)(m||(m=(0,N.Z)(["\n  width: 100%;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n  margin-bottom: 20px;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n"]))),Y=V.ZP.button(h||(h=(0,N.Z)(["\n  border-radius: 4px;\n  margin: 0 auto;\n  width: 200px;\n  background-color: var(--bg-main-color);\n  color: var(--header-main-color);\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 10px 10px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 18px;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out,\n    border-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: var(--main-green);\n    border-color: var(--header-main-color);\n  }\n"]))),$=V.ZP.div(f||(f=(0,N.Z)(["\n  width: 100%;\n  max-width: 400px;\n  display: flex;\n  align-items: center;\n  justify-content: space-around;\n  gap: 10px;\n"]))),G=(0,V.ZP)(z.gN)(g||(g=(0,N.Z)(["\n  width: 100px;\n  border-color: var(--main-green);\n  cursor: pointer;\n"]))),K=(0,V.ZP)(z.gN)(b||(b=(0,N.Z)(["\n  height: 40px;\n  width: 100%;\n  padding: 12px 20px;\n  color: #2a2a2a;\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  line-height: normal;\n  letter-spacing: -0.28px;\n  border: solid 2px var(--bg-main-color);\n  border-radius: 6px;\n  opacity: 0.8;\n  background-color: transparent;\n\n  &:focus-visible {\n    border: solid 2px var(--main-green);\n  }\n\n  @media (min-width: 768px) {\n    max-width: 400px;\n    flex: 1;\n  }\n"]))),M=(V.ZP.label(v||(v=(0,N.Z)(["\n  font-family: 'RobotoSlab';\n  font-weight: 500;\n  font-size: 16px;\n  color: var(--main-green);\n\n  @media (min-width: 768px) {\n    width: 110px;\n  }\n"]))),t(7438)),Q=t(5343),X=t(184),nn=function(n){var e=n.teacher,t=(0,S.useState)(C),a=(0,y.Z)(t,2),i=a[0],r=a[1],o=(0,S.useState)(""),l=(0,y.Z)(o,2),s=l[0],c=l[1],d=(0,S.useState)([]),p=(0,y.Z)(d,2),u=p[0],x=p[1],m=(0,S.useState)("#0456BA"),h=(0,y.Z)(m,2),f=h[0],g=h[1],b=(0,S.useState)(!0),v=(0,y.Z)(b,2),Z=v[0],w=v[1],P=(0,j.TH)(),_=new URLSearchParams(P.search).get("source");(0,S.useEffect)((function(){"buttonViewing"===_&&w(!1)}),[_]);var N=(0,k.I0)(),V=(0,j.s0)();return(0,S.useEffect)((function(){if(e){var n={name:e.name?e.name:"",surname:e.surname?e.surname:"",teacherImage:e.teacherImage?e.teacherImage:"",phone:e.phone?e.phone:"",email:e.email?e.email:"",color:e.color?e.color:"#0456BA",about:e.about?e.about:"",specialization:e.specialization&&1===e.specialization.length&&""===e.specialization[0].trim()?[]:e.specialization};r(n),c(n.teacherImage),x(n.specialization),g(n.color)}}),[e]),(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(z.J9,{enableReinitialize:!0,initialValues:i,validationSchema:I,onSubmit:function(n){if(Z)if(e){var t={id:e._id,values:n};N((0,Q.Jn)(t)).then((function(){V("/teachers")}))}else N((0,Q.uh)(n)).then((function(){V("/teachers")}));else V(-1),w(!0)},children:function(n){var e=n.errors,t=n.touched,a=(n.values,n.setFieldValue);return(0,X.jsxs)(E,{children:[(0,X.jsx)(A,{children:"\u041a\u0430\u0440\u0442\u043a\u0430 \u0444\u0430\u0445\u0456\u0432\u0446\u044f"}),(0,X.jsxs)(U,{children:[(0,X.jsx)(M.Z,{avatar:s,fileName:"teacherImage",setFieldValue:a}),(0,X.jsxs)(B,{children:[(0,X.jsx)(J,{name:"name",type:"text",placeholder:"\u0406\u043c'\u044f"}),t.name&&e.name&&(0,X.jsx)(L,{children:e.name}),(0,X.jsx)(J,{name:"surname",type:"text",placeholder:"\u0424\u0430\u043c\u0456\u043b\u0456\u044f"}),e.surname&&(0,X.jsx)(L,{children:e.surname}),(0,X.jsxs)($,{children:[(0,X.jsx)(T,{children:"\u041a\u043e\u043b\u0456\u0440 \u0434\u043b\u044f \u0440\u043e\u0437\u043a\u043b\u0430\u0434\u0443:"}),(0,X.jsx)(G,{name:"color",type:"color",value:f,onChange:function(n){var e=n.target.value;g(e),a("color",e)}})]})]})]}),(0,X.jsxs)(D,{children:[(0,X.jsx)(q,{children:"\u0422\u0435\u043b\u0435\u0444\u043e\u043d:"}),(0,X.jsx)(K,{name:"phone",type:"tel",autoComplete:"off",placeholder:"+380(__)___ __ __"})]}),(0,X.jsxs)(D,{children:[(0,X.jsx)(q,{children:"e-mail:"}),(0,X.jsx)(K,{name:"email",type:"email",autoComplete:"off",placeholder:"example@example.com"})]}),(0,X.jsxs)(O,{children:[(0,X.jsx)(H,{children:"\u0421\u043f\u0435\u0446\u0456\u0430\u043b\u0456\u0437\u0430\u0446\u0456\u044f:"}),(0,X.jsx)(R.Z,{mode:"multiple",style:{width:"100%",maxWidth:"400px",marginTop:"10px",border:"2px solid #68bf48",borderRadius:"8px"},value:u,onChange:function(n){x(n),a("specialization",n||u)},options:F})]}),(0,X.jsx)(T,{children:"\u0414\u043e\u0434\u0430\u0442\u043a\u043e\u0432\u0430 \u0456\u043d\u0444\u043e\u0440\u043c\u0430\u0446\u0456\u044f:"}),(0,X.jsx)(W,{name:"about",component:"textarea",rows:6}),(0,X.jsx)(Y,{type:"submit",children:Z?"\u0417\u0431\u0435\u0440\u0435\u0433\u0442\u0438 \u0437\u043c\u0456\u043d\u0438":"\u041d\u0430\u0437\u0430\u0434"})]})}})})},en=t(1243),tn=function(){var n=(0,w.Z)((0,Z.Z)().mark((function n(e){var t,a;return(0,Z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,en.Z.get("/teacher/teacher/".concat(e));case 3:return t=n.sent,a=t.data,n.abrupt("return",a);case 8:n.prev=8,n.t0=n.catch(0),console.log(n.t0.message);case 11:case"end":return n.stop()}}),n,null,[[0,8]])})));return function(e){return n.apply(this,arguments)}}(),an=function(){var n=(0,S.useState)(""),e=(0,y.Z)(n,2),t=e[0],a=e[1],i=(0,j.UO)().teacherId;return(0,S.useEffect)((function(){function n(){return(n=(0,w.Z)((0,Z.Z)().mark((function n(){var e;return(0,Z.Z)().wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,tn(i);case 3:if(e=n.sent){n.next=6;break}return n.abrupt("return");case 6:a(e),n.next=12;break;case 9:n.prev=9,n.t0=n.catch(0),P.Notify.failure("Child not found");case 12:case"end":return n.stop()}}),n,null,[[0,9]])})))).apply(this,arguments)}i&&function(){n.apply(this,arguments)}()}),[i]),(0,X.jsx)(X.Fragment,{children:(0,X.jsx)(nn,{teacher:t})})}},7438:function(n,e,t){t.d(e,{Z:function(){return v}});var a,i,r,o,l,s=t(9439),c=t(2791),d=t(168),p=t(9256),u=t(9126),x=p.ZP.div(a||(a=(0,d.Z)(["\n  width: 110px;\n  height: 110px;\n  background-color: #c0c0c0;\n  display: flex;\n  align-items: center;\n  justify-content: center;\n  border-radius: 4px;\n"]))),m=p.ZP.button(i||(i=(0,d.Z)(["\n  border-radius: 4px;\n  background-color: var(--main-dark-blue);\n  color: var(--header-main-color);\n  border-radius: 8px;\n  border: 1px solid transparent;\n  padding: 5px 10px;\n  font-family: 'RobotoSlab';\n  font-weight: 400;\n  font-size: 13px;\n  cursor: pointer;\n  transition: background-color 0.3s ease-in-out, color 0.3s ease-in-out,\n    border-color 0.3s ease-in-out;\n\n  &:hover,\n  &:focus {\n    background-color: var(--main-green);\n    border-color: var(--header-main-color);\n  }\n"]))),h=p.ZP.div(r||(r=(0,d.Z)(["\n  padding: 10px 0;\n  display: flex;\n  flex-direction: column;\n  align-items: center;\n  justify-content: space-between;\n"]))),f=p.ZP.img(o||(o=(0,d.Z)(["\n  display: block;\n  border-radius: 4px;\n"]))),g=(0,p.ZP)(u.sY$)(l||(l=(0,d.Z)(["\n  width: 30px;\n  height: 30px;\n  fill: #808080;\n"]))),b=t(184);var v=function(n){var e=n.setFieldValue,t=n.avatar,a=n.fileName,i=(0,c.useRef)(null),r=(0,c.useState)(t),o=(0,s.Z)(r,2),l=o[0],d=o[1];return(0,c.useEffect)((function(){d(t)}),[t]),(0,b.jsxs)(b.Fragment,{children:[(0,b.jsx)("input",{type:"file",hidden:!0,ref:i,onChange:function(n){var t=n.target.files[0];e("".concat(a),t);var i=new FileReader;i.readAsDataURL(t),i.onload=function(){d(i.result)}}}),(0,b.jsxs)(h,{children:[l?(0,b.jsx)(f,{src:l,alt:"preview",width:130,height:110}):(0,b.jsx)(x,{children:(0,b.jsx)(g,{})}),(0,b.jsx)(m,{type:"button",onClick:function(){i.current.click()},children:"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0444\u043e\u0442\u043e"})]})]})}}}]);
//# sourceMappingURL=422.94fa7bc9.chunk.js.map