{"version":3,"file":"static/js/763.4bbd98f7.chunk.js","mappings":"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","sources":["components/Container/Container.style.js","components/Container/Container.jsx","../node_modules/@rc-component/mutate-observer/es/wrapper.js","../node_modules/@rc-component/mutate-observer/es/useMutateObserver.js","../node_modules/@rc-component/mutate-observer/es/MutateObserver.js","../node_modules/@rc-component/mutate-observer/es/index.js","../node_modules/antd/es/watermark/utils.js","../node_modules/antd/es/watermark/index.js","page/MainPage/MainPage.jsx"],"sourcesContent":["import styled from 'styled-components';\n\nconst ContainerMedia = styled.div`\n  background-color: transparent;\n\n  margin: 0 auto;\n  padding: 0 15px;\n  width: var(--small-screen);\n\n  @media (min-width: 768px) {\n    width: 768px;\n  }\n  @media (min-width: 1280px) {\n    width: 1280px;\n  }\n  @media (min-width: 1440px) {\n    width: 1440px;\n  }\n`;\n\nexport default ContainerMedia;\n","import ContainerMedia from './Container.style';\n\nconst Container = ({ children }) => {\n  return (\n    <>\n      <ContainerMedia>{children}</ContainerMedia>\n    </>\n  );\n};\n\nexport default Container;\n","import _classCallCheck from \"@babel/runtime/helpers/esm/classCallCheck\";\nimport _createClass from \"@babel/runtime/helpers/esm/createClass\";\nimport _inherits from \"@babel/runtime/helpers/esm/inherits\";\nimport _createSuper from \"@babel/runtime/helpers/esm/createSuper\";\nimport React from 'react';\nvar DomWrapper = /*#__PURE__*/function (_React$Component) {\n  _inherits(DomWrapper, _React$Component);\n  var _super = _createSuper(DomWrapper);\n  function DomWrapper() {\n    _classCallCheck(this, DomWrapper);\n    return _super.apply(this, arguments);\n  }\n  _createClass(DomWrapper, [{\n    key: \"render\",\n    value: function render() {\n      return this.props.children;\n    }\n  }]);\n  return DomWrapper;\n}(React.Component);\nexport default DomWrapper;","import canUseDom from \"rc-util/es/Dom/canUseDom\";\nimport * as React from 'react';\nvar defaultOptions = {\n  subtree: true,\n  childList: true,\n  attributeFilter: ['style', 'class']\n};\nexport default function useMutateObserver(nodeOrList, callback) {\n  var options = arguments.length > 2 && arguments[2] !== undefined ? arguments[2] : defaultOptions;\n  React.useEffect(function () {\n    if (!canUseDom() || !nodeOrList) {\n      return;\n    }\n    var instance;\n    var nodeList = Array.isArray(nodeOrList) ? nodeOrList : [nodeOrList];\n    if ('MutationObserver' in window) {\n      instance = new MutationObserver(callback);\n      nodeList.forEach(function (element) {\n        instance.observe(element, options);\n      });\n    }\n    return function () {\n      var _instance, _instance2;\n      (_instance = instance) === null || _instance === void 0 ? void 0 : _instance.takeRecords();\n      (_instance2 = instance) === null || _instance2 === void 0 ? void 0 : _instance2.disconnect();\n    };\n  }, [options, nodeOrList]);\n}","import _slicedToArray from \"@babel/runtime/helpers/esm/slicedToArray\";\nimport React from 'react';\nimport useLayoutEffect from \"rc-util/es/hooks/useLayoutEffect\";\nimport { supportRef, useComposeRef } from \"rc-util/es/ref\";\nimport findDOMNode from \"rc-util/es/Dom/findDOMNode\";\nimport useEvent from \"rc-util/es/hooks/useEvent\";\nimport DomWrapper from \"./wrapper\";\nimport useMutateObserver from \"./useMutateObserver\";\nvar MutateObserver = function MutateObserver(props) {\n  var children = props.children,\n    options = props.options,\n    _props$onMutate = props.onMutate,\n    onMutate = _props$onMutate === void 0 ? function () {} : _props$onMutate;\n  var callback = useEvent(onMutate);\n  var wrapperRef = React.useRef(null);\n  var elementRef = React.useRef(null);\n  var canRef = /*#__PURE__*/React.isValidElement(children) && supportRef(children);\n  var mergedRef = useComposeRef(elementRef, canRef ? children.ref : null);\n  var _React$useState = React.useState(null),\n    _React$useState2 = _slicedToArray(_React$useState, 2),\n    target = _React$useState2[0],\n    setTarget = _React$useState2[1];\n  useMutateObserver(target, callback, options);\n\n  // =========================== Effect ===========================\n  // Bind target\n  useLayoutEffect(function () {\n    setTarget(findDOMNode(elementRef.current) || findDOMNode(wrapperRef.current));\n  });\n\n  // =========================== Render ===========================\n  if (!children) {\n    if (process.env.NODE_ENV !== 'production') {\n      console.error('MutationObserver need children props');\n    }\n    return null;\n  }\n  return /*#__PURE__*/React.createElement(DomWrapper, {\n    ref: wrapperRef\n  }, canRef ? /*#__PURE__*/React.cloneElement(children, {\n    ref: mergedRef\n  }) : children);\n};\nexport default MutateObserver;","import MutateObserver from \"./MutateObserver\";\nimport useMutateObserver from \"./useMutateObserver\";\nexport { useMutateObserver };\nexport default MutateObserver;","/** converting camel-cased strings to be lowercase and link it with Separato */\nexport function toLowercaseSeparator(key) {\n  return key.replace(/([A-Z])/g, '-$1').toLowerCase();\n}\nexport function getStyleStr(style) {\n  return Object.keys(style).map(key => `${toLowercaseSeparator(key)}: ${style[key]};`).join(' ');\n}\n/** Returns the ratio of the device's physical pixel resolution to the css pixel resolution */\nexport function getPixelRatio() {\n  return window.devicePixelRatio || 1;\n}\n/** Rotate with the watermark as the center point */\nexport function rotateWatermark(ctx, rotateX, rotateY, rotate) {\n  ctx.translate(rotateX, rotateY);\n  ctx.rotate(Math.PI / 180 * Number(rotate));\n  ctx.translate(-rotateX, -rotateY);\n}\n/** Whether to re-render the watermark */\nexport const reRendering = (mutation, watermarkElement) => {\n  let flag = false;\n  // Whether to delete the watermark node\n  if (mutation.removedNodes.length) {\n    flag = Array.from(mutation.removedNodes).some(node => node === watermarkElement);\n  }\n  // Whether the watermark dom property value has been modified\n  if (mutation.type === 'attributes' && mutation.target === watermarkElement) {\n    flag = true;\n  }\n  return flag;\n};","import _toConsumableArray from \"@babel/runtime/helpers/esm/toConsumableArray\";\nimport MutateObserver from '@rc-component/mutate-observer';\nimport classNames from 'classnames';\nimport React, { useEffect, useRef } from 'react';\nimport { getPixelRatio, getStyleStr, reRendering, rotateWatermark } from './utils';\nimport theme from '../theme';\n/**\n * Base size of the canvas, 1 for parallel layout and 2 for alternate layout\n * Only alternate layout is currently supported\n */\nconst BaseSize = 2;\nconst FontGap = 3;\nconst Watermark = props => {\n  var _a, _b;\n  const {\n    /**\n     * The antd content layer zIndex is basically below 10\n     * https://github.com/ant-design/ant-design/blob/6192403b2ce517c017f9e58a32d58774921c10cd/components/style/themes/default.less#L335\n     */\n    zIndex = 9,\n    rotate = -22,\n    width,\n    height,\n    image,\n    content,\n    font = {},\n    style,\n    className,\n    rootClassName,\n    gap = [100, 100],\n    offset,\n    children\n  } = props;\n  const {\n    token\n  } = theme.useToken();\n  const {\n    color = token.colorFill,\n    fontSize = token.fontSizeLG,\n    fontWeight = 'normal',\n    fontStyle = 'normal',\n    fontFamily = 'sans-serif'\n  } = font;\n  const [gapX, gapY] = gap;\n  const gapXCenter = gapX / 2;\n  const gapYCenter = gapY / 2;\n  const offsetLeft = (_a = offset === null || offset === void 0 ? void 0 : offset[0]) !== null && _a !== void 0 ? _a : gapXCenter;\n  const offsetTop = (_b = offset === null || offset === void 0 ? void 0 : offset[1]) !== null && _b !== void 0 ? _b : gapYCenter;\n  const getMarkStyle = () => {\n    const markStyle = {\n      zIndex,\n      position: 'absolute',\n      left: 0,\n      top: 0,\n      width: '100%',\n      height: '100%',\n      pointerEvents: 'none',\n      backgroundRepeat: 'repeat'\n    };\n    /** Calculate the style of the offset */\n    let positionLeft = offsetLeft - gapXCenter;\n    let positionTop = offsetTop - gapYCenter;\n    if (positionLeft > 0) {\n      markStyle.left = `${positionLeft}px`;\n      markStyle.width = `calc(100% - ${positionLeft}px)`;\n      positionLeft = 0;\n    }\n    if (positionTop > 0) {\n      markStyle.top = `${positionTop}px`;\n      markStyle.height = `calc(100% - ${positionTop}px)`;\n      positionTop = 0;\n    }\n    markStyle.backgroundPosition = `${positionLeft}px ${positionTop}px`;\n    return markStyle;\n  };\n  const containerRef = useRef(null);\n  const watermarkRef = useRef();\n  const stopObservation = useRef(false);\n  const destroyWatermark = () => {\n    if (watermarkRef.current) {\n      watermarkRef.current.remove();\n      watermarkRef.current = undefined;\n    }\n  };\n  const appendWatermark = (base64Url, markWidth) => {\n    var _a;\n    if (containerRef.current && watermarkRef.current) {\n      stopObservation.current = true;\n      watermarkRef.current.setAttribute('style', getStyleStr(Object.assign(Object.assign({}, getMarkStyle()), {\n        backgroundImage: `url('${base64Url}')`,\n        backgroundSize: `${(gapX + markWidth) * BaseSize}px`\n      })));\n      (_a = containerRef.current) === null || _a === void 0 ? void 0 : _a.append(watermarkRef.current);\n      // Delayed execution\n      setTimeout(() => {\n        stopObservation.current = false;\n      });\n    }\n  };\n  /**\n   * Get the width and height of the watermark. The default values are as follows\n   * Image: [120, 64]; Content: It's calculated by content;\n   */\n  const getMarkSize = ctx => {\n    let defaultWidth = 120;\n    let defaultHeight = 64;\n    if (!image && ctx.measureText) {\n      ctx.font = `${Number(fontSize)}px ${fontFamily}`;\n      const contents = Array.isArray(content) ? content : [content];\n      const widths = contents.map(item => ctx.measureText(item).width);\n      defaultWidth = Math.ceil(Math.max.apply(Math, _toConsumableArray(widths)));\n      defaultHeight = Number(fontSize) * contents.length + (contents.length - 1) * FontGap;\n    }\n    return [width !== null && width !== void 0 ? width : defaultWidth, height !== null && height !== void 0 ? height : defaultHeight];\n  };\n  const fillTexts = (ctx, drawX, drawY, drawWidth, drawHeight) => {\n    const ratio = getPixelRatio();\n    const mergedFontSize = Number(fontSize) * ratio;\n    ctx.font = `${fontStyle} normal ${fontWeight} ${mergedFontSize}px/${drawHeight}px ${fontFamily}`;\n    ctx.fillStyle = color;\n    ctx.textAlign = 'center';\n    ctx.textBaseline = 'top';\n    ctx.translate(drawWidth / 2, 0);\n    const contents = Array.isArray(content) ? content : [content];\n    contents === null || contents === void 0 ? void 0 : contents.forEach((item, index) => {\n      ctx.fillText(item !== null && item !== void 0 ? item : '', drawX, drawY + index * (mergedFontSize + FontGap * ratio));\n    });\n  };\n  const drawText = (canvas, ctx, drawX, drawY, drawWidth, drawHeight, alternateRotateX, alternateRotateY, alternateDrawX, alternateDrawY, markWidth) => {\n    fillTexts(ctx, drawX, drawY, drawWidth, drawHeight);\n    /** Fill the interleaved text after rotation */\n    ctx.restore();\n    rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\n    fillTexts(ctx, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\n    appendWatermark(canvas.toDataURL(), markWidth);\n  };\n  const renderWatermark = () => {\n    const canvas = document.createElement('canvas');\n    const ctx = canvas.getContext('2d');\n    if (ctx) {\n      if (!watermarkRef.current) {\n        watermarkRef.current = document.createElement('div');\n      }\n      const ratio = getPixelRatio();\n      const [markWidth, markHeight] = getMarkSize(ctx);\n      const canvasWidth = (gapX + markWidth) * ratio;\n      const canvasHeight = (gapY + markHeight) * ratio;\n      canvas.setAttribute('width', `${canvasWidth * BaseSize}px`);\n      canvas.setAttribute('height', `${canvasHeight * BaseSize}px`);\n      const drawX = gapX * ratio / 2;\n      const drawY = gapY * ratio / 2;\n      const drawWidth = markWidth * ratio;\n      const drawHeight = markHeight * ratio;\n      const rotateX = (drawWidth + gapX * ratio) / 2;\n      const rotateY = (drawHeight + gapY * ratio) / 2;\n      /** Alternate drawing parameters */\n      const alternateDrawX = drawX + canvasWidth;\n      const alternateDrawY = drawY + canvasHeight;\n      const alternateRotateX = rotateX + canvasWidth;\n      const alternateRotateY = rotateY + canvasHeight;\n      ctx.save();\n      rotateWatermark(ctx, rotateX, rotateY, rotate);\n      if (image) {\n        const img = new Image();\n        img.onload = () => {\n          ctx.drawImage(img, drawX, drawY, drawWidth, drawHeight);\n          /** Draw interleaved pictures after rotation */\n          ctx.restore();\n          rotateWatermark(ctx, alternateRotateX, alternateRotateY, rotate);\n          ctx.drawImage(img, alternateDrawX, alternateDrawY, drawWidth, drawHeight);\n          appendWatermark(canvas.toDataURL(), markWidth);\n        };\n        img.onerror = () => drawText(canvas, ctx, drawX, drawY, drawWidth, drawHeight, alternateRotateX, alternateRotateY, alternateDrawX, alternateDrawY, markWidth);\n        img.crossOrigin = 'anonymous';\n        img.referrerPolicy = 'no-referrer';\n        img.src = image;\n      } else {\n        drawText(canvas, ctx, drawX, drawY, drawWidth, drawHeight, alternateRotateX, alternateRotateY, alternateDrawX, alternateDrawY, markWidth);\n      }\n    }\n  };\n  const onMutate = mutations => {\n    if (stopObservation.current) {\n      return;\n    }\n    mutations.forEach(mutation => {\n      if (reRendering(mutation, watermarkRef.current)) {\n        destroyWatermark();\n        renderWatermark();\n      }\n    });\n  };\n  useEffect(renderWatermark, [rotate, zIndex, width, height, image, content, color, fontSize, fontWeight, fontStyle, fontFamily, gapX, gapY, offsetLeft, offsetTop]);\n  return /*#__PURE__*/React.createElement(MutateObserver, {\n    onMutate: onMutate\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    ref: containerRef,\n    className: classNames(className, rootClassName),\n    style: Object.assign({\n      position: 'relative'\n    }, style)\n  }, children));\n};\nif (process.env.NODE_ENV !== 'production') {\n  Watermark.displayName = 'Watermark';\n}\nexport default Watermark;","import { Watermark } from 'antd';\nimport Container from '../../components/Container/Container';\n\nfunction MainPage() {\n  return (\n    <>\n      <Container>\n        <Watermark content=\"Sunstoriy\">\n          <div style={{ height: '100vh' }}>\n            <h4>MainPage</h4>\n          </div>\n        </Watermark>\n      </Container>\n    </>\n  );\n}\n\nexport default MainPage;\n"],"names":["styled","div","_templateObject","_taggedTemplateLiteral","_ref","children","_jsx","_Fragment","ContainerMedia","DomWrapper","_React$Component","_inherits","_super","_createSuper","_classCallCheck","this","apply","arguments","_createClass","key","value","props","React","defaultOptions","subtree","childList","attributeFilter","options","_props$onMutate","onMutate","callback","useEvent","wrapperRef","elementRef","canRef","supportRef","mergedRef","useComposeRef","ref","_React$useState","_React$useState2","_slicedToArray","target","setTarget","nodeOrList","length","undefined","canUseDom","instance","nodeList","Array","isArray","window","MutationObserver","forEach","element","observe","_instance","_instance2","takeRecords","disconnect","useMutateObserver","useLayoutEffect","findDOMNode","current","getPixelRatio","devicePixelRatio","rotateWatermark","ctx","rotateX","rotateY","rotate","translate","Math","PI","Number","_a","_b","_props$zIndex","zIndex","_props$rotate","width","height","image","content","_props$font","font","style","className","rootClassName","_props$gap","gap","offset","token","theme","useToken","_font$color","color","colorFill","_font$fontSize","fontSize","fontSizeLG","_font$fontWeight","fontWeight","_font$fontStyle","fontStyle","_font$fontFamily","fontFamily","_gap","gapX","gapY","gapXCenter","gapYCenter","offsetLeft","offsetTop","containerRef","useRef","watermarkRef","stopObservation","appendWatermark","base64Url","markWidth","setAttribute","Object","keys","map","concat","replace","toLowerCase","toLowercaseSeparator","join","getStyleStr","assign","markStyle","position","left","top","pointerEvents","backgroundRepeat","positionLeft","positionTop","backgroundPosition","getMarkStyle","backgroundImage","backgroundSize","append","setTimeout","fillTexts","drawX","drawY","drawWidth","drawHeight","ratio","mergedFontSize","fillStyle","textAlign","textBaseline","contents","item","index","fillText","drawText","canvas","alternateRotateX","alternateRotateY","alternateDrawX","alternateDrawY","restore","toDataURL","renderWatermark","document","createElement","getContext","_getMarkSize","defaultWidth","defaultHeight","measureText","widths","ceil","max","_toConsumableArray","getMarkSize","_getMarkSize2","markHeight","canvasWidth","canvasHeight","save","img","Image","onload","drawImage","onerror","crossOrigin","referrerPolicy","src","useEffect","MutateObserver","mutations","mutation","watermarkElement","flag","removedNodes","from","some","node","type","reRendering","remove","classNames","Container","Watermark"],"sourceRoot":""}